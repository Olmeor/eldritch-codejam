(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var r;e.g.importScripts&&(r=e.g.location+"");var a=e.g.document;if(!r&&a&&(a.currentScript&&(r=a.currentScript.src),!r)){var c=a.getElementsByTagName("script");c.length&&(r=c[c.length-1].src)}if(!r)throw new Error("Automatic publicPath is not supported in this browser");r=r.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=r+"../"})();const r={azathoth:e.p+"assets/9ffcd4c76291a669f856.jpg",cthulhu:e.p+"assets/8b31c55fed4fdb9f4a62.jpg",iogSothoth:e.p+"assets/6f83ca39f70f13cf6f3c.jpg",shubNiggurath:e.p+"assets/e4799ef6c5bbcbb138a8.jpg"},a=[{id:"azathoth",name:"azathoth",cardFace:r.azathoth,firstStage:{greenCards:1,blueCards:1,brownCards:2},secondStage:{greenCards:2,blueCards:1,brownCards:3},thirdStage:{greenCards:2,blueCards:0,brownCards:4}},{id:"cthulhu",name:"cthulhu",cardFace:r.cthulhu,firstStage:{greenCards:0,blueCards:2,brownCards:2},secondStage:{greenCards:1,blueCards:0,brownCards:3},thirdStage:{greenCards:3,blueCards:0,brownCards:4}},{id:"iogSothoth",name:"iogSothoth",cardFace:r.iogSothoth,firstStage:{greenCards:0,blueCards:1,brownCards:2},secondStage:{greenCards:2,blueCards:1,brownCards:3},thirdStage:{greenCards:3,blueCards:0,brownCards:4}},{id:"shubNiggurath",name:"shubNiggurath",cardFace:r.shubNiggurath,firstStage:{greenCards:1,blueCards:1,brownCards:2},secondStage:{greenCards:3,blueCards:1,brownCards:2},thirdStage:{greenCards:2,blueCards:0,brownCards:4}}],c={green1:e.p+"assets/5f3fe8d977d8bff75d9e.jpg",green2:e.p+"assets/932f1430bca8ec28fc6c.jpg",green3:e.p+"assets/f50ff9e9e834eb6113db.jpg",green4:e.p+"assets/b52063ebefbf11bda64d.jpg",green5:e.p+"assets/9d6427bed23c6bc73617.jpg",green6:e.p+"assets/89a02b6a28c1c6c2a2c7.jpg",green7:e.p+"assets/773421473290f23606ce.jpg",green8:e.p+"assets/7542d185c6e796373086.jpg",green9:e.p+"assets/39a26396b4eb7a0b29cf.jpg",green10:e.p+"assets/d1feecc003198d566700.jpg",green11:e.p+"assets/4f6fb9a6a8511e6b5162.jpg",green12:e.p+"assets/44dbbe99dc36a45fcea1.jpg",green13:e.p+"assets/9ea4f97bb00a92fdaa39.jpg",green14:e.p+"assets/2d00f9038e49a969bbb5.jpg",green15:e.p+"assets/f20a211f498e95e51a00.jpg",green16:e.p+"assets/6a4e4a3a9374558549be.jpg",green17:e.p+"assets/67b50a8de7d4e1ea72f1.jpg",green18:e.p+"assets/da8a4797cab94390bfa4.jpg"},n=[{id:"green1",cardFace:c.green1,difficulty:"easy",color:"green"},{id:"green2",cardFace:c.green2,difficulty:"hard",color:"green"},{id:"green3",cardFace:c.green3,difficulty:"hard",color:"green"},{id:"green4",cardFace:c.green4,difficulty:"hard",color:"green"},{id:"green5",cardFace:c.green5,difficulty:"hard",color:"green"},{id:"green6",cardFace:c.green6,difficulty:"hard",color:"green"},{id:"green7",cardFace:c.green7,difficulty:"normal",color:"green"},{id:"green8",cardFace:c.green8,difficulty:"normal",color:"green"},{id:"green9",cardFace:c.green9,difficulty:"normal",color:"green"},{id:"green10",cardFace:c.green10,difficulty:"normal",color:"green"},{id:"green11",cardFace:c.green11,difficulty:"normal",color:"green"},{id:"green12",cardFace:c.green12,difficulty:"easy",color:"green"},{id:"green13",cardFace:c.green13,difficulty:"normal",color:"green"},{id:"green14",cardFace:c.green14,difficulty:"normal",color:"green"},{id:"green15",cardFace:c.green15,difficulty:"normal",color:"green"},{id:"green16",cardFace:c.green16,difficulty:"easy",color:"green"},{id:"green17",cardFace:c.green17,difficulty:"easy",color:"green"},{id:"green18",cardFace:c.green18,difficulty:"easy",color:"green"}],t={blue1:e.p+"assets/f22cbf3074c32c341aa5.jpg",blue2:e.p+"assets/68160019ab8cf8a5055d.jpg",blue3:e.p+"assets/2de497069192b2da13d4.jpg",blue4:e.p+"assets/8d7153f8d06627b06211.jpg",blue5:e.p+"assets/73bcf93cd2a642aa73e6.jpg",blue6:e.p+"assets/a1e43c12d549b7364aa1.jpg",blue7:e.p+"assets/22627b9699dca6887058.jpg",blue8:e.p+"assets/44b22a87f73c2d459426.jpg",blue9:e.p+"assets/ec278445def2698b836c.jpg",blue10:e.p+"assets/0b798eaee869a3220471.jpg",blue11:e.p+"assets/020177203141abff6681.jpg",blue12:e.p+"assets/8a6d62479b5b0f34c931.jpg"},o=[{id:"blue1",cardFace:t.blue1,difficulty:"hard",color:"blue"},{id:"blue2",cardFace:t.blue2,difficulty:"hard",color:"blue"},{id:"blue3",cardFace:t.blue3,difficulty:"easy",color:"blue"},{id:"blue4",cardFace:t.blue4,difficulty:"easy",color:"blue"},{id:"blue5",cardFace:t.blue5,difficulty:"easy",color:"blue"},{id:"blue6",cardFace:t.blue6,difficulty:"hard",color:"blue"},{id:"blue7",cardFace:t.blue7,difficulty:"normal",color:"blue"},{id:"blue8",cardFace:t.blue8,difficulty:"hard",color:"blue"},{id:"blue9",cardFace:t.blue9,difficulty:"normal",color:"blue"},{id:"blue10",cardFace:t.blue10,difficulty:"easy",color:"blue"},{id:"blue11",cardFace:t.blue11,difficulty:"normal",color:"blue"},{id:"blue12",cardFace:t.blue12,difficulty:"normal",color:"blue"}],d={brown1:e.p+"assets/faa5bf346d3391ba4aca.jpg",brown2:e.p+"assets/4d87b49bde3174e7c35f.jpg",brown3:e.p+"assets/333a4f0ebd3d294fc4ad.jpg",brown4:e.p+"assets/2803de4c9cc7b1316b31.jpg",brown5:e.p+"assets/2c93099cfc1c4245b20f.jpg",brown6:e.p+"assets/4ffc20d787d2e3e30030.jpg",brown7:e.p+"assets/61f50cd9134a2b1524e2.jpg",brown8:e.p+"assets/5f0a2e26118975003bb0.jpg",brown9:e.p+"assets/4d9f643546db49344687.jpg",brown10:e.p+"assets/368f8bc7900b63d61a52.jpg",brown11:e.p+"assets/43701ef7b6e9818638f9.jpg",brown12:e.p+"assets/6a58954b66555dff5404.jpg",brown13:e.p+"assets/58f8b4e37c2997710b6f.jpg",brown14:e.p+"assets/d9c1baaebb95de6ce148.jpg",brown15:e.p+"assets/115b54b324466e723fc4.jpg",brown16:e.p+"assets/f92b63a3c7dda88d5c70.jpg",brown17:e.p+"assets/38aee49837cca1e36d80.jpg",brown18:e.p+"assets/ade3475a0d67ea47e9dd.jpg",brown19:e.p+"assets/18e31754ea2b70449a83.jpg",brown20:e.p+"assets/b293a6d6bd8b80674ed1.jpg",brown21:e.p+"assets/baecf5cb241a52b62346.jpg"},s=[{id:"brown1",cardFace:d.brown1,difficulty:"normal",color:"brown"},{id:"brown2",cardFace:d.brown2,difficulty:"normal",color:"brown"},{id:"brown3",cardFace:d.brown3,difficulty:"normal",color:"brown"},{id:"brown4",cardFace:d.brown4,difficulty:"normal",color:"brown"},{id:"brown5",cardFace:d.brown5,difficulty:"normal",color:"brown"},{id:"brown6",cardFace:d.brown6,difficulty:"hard",color:"brown"},{id:"brown7",cardFace:d.brown7,difficulty:"hard",color:"brown"},{id:"brown8",cardFace:d.brown8,difficulty:"hard",color:"brown"},{id:"brown9",cardFace:d.brown9,difficulty:"hard",color:"brown"},{id:"brown10",cardFace:d.brown10,difficulty:"hard",color:"brown"},{id:"brown11",cardFace:d.brown11,difficulty:"easy",color:"brown"},{id:"brown12",cardFace:d.brown12,difficulty:"easy",color:"brown"},{id:"brown13",cardFace:d.brown13,difficulty:"easy",color:"brown"},{id:"brown14",cardFace:d.brown14,difficulty:"easy",color:"brown"},{id:"brown15",cardFace:d.brown15,difficulty:"normal",color:"brown"},{id:"brown16",cardFace:d.brown16,difficulty:"normal",color:"brown"},{id:"brown17",cardFace:d.brown17,difficulty:"normal",color:"brown"},{id:"brown18",cardFace:d.brown18,difficulty:"normal",color:"brown"},{id:"brown19",cardFace:d.brown19,difficulty:"normal",color:"brown"},{id:"brown20",cardFace:d.brown20,difficulty:"normal",color:"brown"},{id:"brown21",cardFace:d.brown21,difficulty:"easy",color:"brown"}],l=document.querySelector(".ancients"),b=document.querySelectorAll(".ancient-card"),i=document.querySelector(".difficulty-container"),u=document.querySelectorAll(".difficulty"),g=document.querySelector(".button"),f=document.querySelector(".card-wrapper"),p=document.querySelector(".card-back"),w=document.querySelector(".card-open"),y=document.querySelectorAll(".stage");let h,m;!function(){const e=document.querySelector(".ancients");e.children[0].style.backgroundImage=`url(${r.azathoth})`,e.children[1].style.backgroundImage=`url(${r.cthulhu})`,e.children[2].style.backgroundImage=`url(${r.iogSothoth})`,e.children[3].style.backgroundImage=`url(${r.shubNiggurath})`}(),l.addEventListener("click",(function(e){if(e.target.classList.contains("ancient-card")){for(let r of b)r!==e.target&&r.classList.remove("active");e.target.classList.add("active")}})),i.addEventListener("click",(function(e){if(e.target.classList.contains("difficulty")){for(let r of u)r!==e.target&&r.classList.remove("active");e.target.classList.add("active")}}));let j={green:{amount:0,cards:[]},brown:{amount:0,cards:[]},blue:{amount:0,cards:[]}},C={stage1:{},stage2:{},stage3:{}};function F(e){return Math.floor(Math.random()*e)}function S(e,r,a,c=""){j.green.amount=h.firstStage.greenCards+h.secondStage.greenCards+h.thirdStage.greenCards,j.brown.amount=h.firstStage.brownCards+h.secondStage.brownCards+h.thirdStage.brownCards,j.blue.amount=h.firstStage.blueCards+h.secondStage.blueCards+h.thirdStage.blueCards;let n=[];for(let r=0;r<a.length;r++){let c=e.filter((e=>e.difficulty==a[r]));for(let e of c)n.push(e)}for(let e=0;e<j[r].amount&&0!=n.length;e++){let e=F(n.length);j[r].cards.push(n[e]),n.splice(e,1)}let t=j[r].amount-j[r].cards.length;if(""!==c&&0!==t){let a=e.filter((e=>e.difficulty==c));for(let e=0;e<t;e++){let e=F(a.length);j[r].cards.push(a[e]),a.splice(e,1)}}N(j[r].cards)}function N(e){for(let r=e.length-1;r>0;r--){let a=Math.floor(Math.random()*(r+1));[e[r],e[a]]=[e[a],e[r]]}}function v(e,r){j[e].cards.splice(r,1),j[e].amount--}function k(e){for(let r=0;r<e.greenNumber;r++){let r=F(j.green.amount);e.cards.push(j.green.cards[r]),v("green",r)}for(let r=0;r<e.brownNumber;r++){let r=F(j.brown.amount);e.cards.push(j.brown.cards[r]),v("brown",r)}for(let r=0;r<e.blueNumber;r++){let r=F(j.blue.amount);e.cards.push(j.blue.cards[r]),v("blue",r)}N(e.cards)}l.addEventListener("click",(function(){!function(){let e=l.querySelector(".ancient-card.active").dataset.ancient;h=a.find((r=>r.name==e))}()})),i.addEventListener("click",(function(){m=i.querySelector(".difficulty.active").dataset.level}));let q=[];function L(){for(let e=0;e<y.length;e++)y[e].querySelector(".green").textContent=C[`stage${e+1}`].greenNumber,y[e].querySelector(".brown").textContent=C[`stage${e+1}`].brownNumber,y[e].querySelector(".blue").textContent=C[`stage${e+1}`].blueNumber}g.addEventListener("click",(function(){h&&m&&(p.style.display="block",f.style.display="block",g.style.display="none",function(){switch(m){case"very easy":S(n,"green",["easy"],"normal"),S(o,"blue",["easy"],"normal"),S(s,"brown",["easy"],"normal");break;case"easy":S(n,"green",["normal","easy"]),S(o,"blue",["normal","easy"]),S(s,"brown",["normal","easy"]);break;case"normal":S(n,"green",["normal","easy","hard"]),S(o,"blue",["normal","easy","hard"]),S(s,"brown",["normal","easy","hard"]);break;case"hard":S(n,"green",["normal","hard"]),S(o,"blue",["normal","hard"]),S(s,"brown",["normal","hard"]);break;case"very hard":S(n,"green",["hard"],"normal"),S(o,"blue",["hard"],"normal"),S(s,"brown",["hard"],"normal")}}(),C.stage1={greenNumber:h.firstStage.greenCards,brownNumber:h.firstStage.brownCards,blueNumber:h.firstStage.blueCards,cards:[]},C.stage2={greenNumber:h.secondStage.greenCards,brownNumber:h.secondStage.brownCards,blueNumber:h.secondStage.blueCards,cards:[]},C.stage3={greenNumber:h.thirdStage.greenCards,brownNumber:h.thirdStage.brownCards,blueNumber:h.thirdStage.blueCards,cards:[]},k(C.stage1),k(C.stage2),k(C.stage3),L(),function(){for(let e of C.stage3.cards)q.push(e);for(let e of C.stage2.cards)q.push(e);for(let e of C.stage1.cards)q.push(e);for(let e=q.length-1;e>=0;e--)console.log(Math.abs(q.length-e),q[e].id,q[e].difficulty)}())})),p.addEventListener("click",(function(){!function(){if(0!==q.length){let e=function(){let e=q.pop();return function(e){for(let r in C)for(let a of C[r].cards)a.id==e.id&&(C[r].cards.pop(),C[r][`${e.color}Number`]--)}(e),e}();w.style.backgroundImage=`url(${e.cardFace})`,w.onload=function(){w.style.display="block"}}}(),L(),0==q.length&&(p.style.display="none",g.style.display="block")}))})();